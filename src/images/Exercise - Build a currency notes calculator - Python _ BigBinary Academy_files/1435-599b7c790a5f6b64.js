"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1435],{1435:function(e,s,t){t.d(s,{Z:function(){return F}});var r=t(2360),n=t(91569),o=t(38033),i=t(70295),a=t(79682),c=t(59046),l=t(77372),u=t(98848),d=t(97415),p=t(40510),m=t(91484),g=t(30433),h=t(53084),x=t(46745),f=t(29110),v=t(34496),j=t(52725),b=t(81652),w=t(5485),y=t(77675),C=t(55581),N=t(92997),O=t.n(N),k=t(21007),S=t(90626);t(28174).get("neeto-course-site:TableOfContent:ChapterFragment");var P=function(e){var s=e.slug,t=e.slug,r=e.chapterSlug,n=e.courseSlug,i=e.title,a=e.progress_status,c=e.savedCourseProgress,u=c.completedLinks,p=c.visitedLinks,m=e.fragmentIndex,g=e.chapterSequence,x=o.ZT,f=(0,h.useRouter)(),j=(0,b.wK)(f),N=f.query.prAppName,P=f.asPath.includes("/preview/"),T="".concat((0,C.Y)({previewMode:P,prAppName:N}),"/").concat(n,"/").concat(r),A="".concat((0,C.Y)({prAppName:N,previewMode:P}),"/").concat(n,"/").concat(r,"/").concat(s),_=(0,l.getCookie)(d.on),E=(0,v.isNil)(_)?(void 0===u?[]:u).includes(A):a===d.oi.completed,q=(0,v.isNil)(_)?(void 0===p?[]:p).includes(A):a===d.oi.visited;return(0,S.jsx)(O(),{className:"h-full neeto-ui-text-black",href:{pathname:T,query:j,hash:t},onClick:x,children:(0,S.jsx)("div",{className:"flex w-full px-8 py-4 space-x-5 border neeto-ui-border-gray-300 rounded-xl hover:neeto-ui-bg-gray-100",children:(0,S.jsx)("div",{className:"flex flex-col items-start w-full text-base font-semibold neeto-ui-text-black md:items-center md:text-lg md:flex-row group gap-y-4",children:(0,S.jsxs)("div",{className:"flex items-start flex-grow w-full md:items-center gap-x-3 md:gap-x-6",children:[(0,S.jsx)(w.Z,{isCompleted:E,isVisited:q}),(0,S.jsxs)("p",{className:"text-base font-medium break-words md:text-lg",children:[(0,S.jsx)("span",{children:g}),(0,S.jsx)("span",{children:"."}),(0,S.jsx)("span",{children:m+1}),(0,S.jsx)("span",{children:"."})," ",(0,S.jsx)(k.D,{components:{p:"span"},children:(0,y.$)(i)})]})]})})})})},T=t(59183);t(28174).get("neeto-course-site:TableOfContent:PageContent");var A=function(e){var s,t=e.slug,r=e.chapterSlug,n=e.courseSlug,a=e.title,c=e.chapterSequence,u=e.position_in_chapter,p=e.page_type,m=e.savedCourseProgress.completedLinks,g=e.is_updated,x=e.is_added,j=e.isChapterTOC,y=(0,h.useRouter)(),N=(0,f.Z)("common").t,P=(0,b.wK)(y),A=y.query.prAppName,_=y.asPath.includes("/preview/"),E="".concat((0,C.Y)({prAppName:A,previewMode:_}),"/").concat(n,"/").concat(r,"/").concat(t),q=(0,l.getCookie)(d.on),L=(0,T.Vl)({organizationId:(0,b.iG)(),courseSlug:n,guestUserCourseAuthToken:y.query.guestUserCourseAuthToken},{select:function(e){var s;return(0,o.zP)({slug:r},null==e||null===(s=e.data)||void 0===s||null===(s=s.progress)||void 0===s?void 0:s.chapters)}}),U=L.data,I=L.isLoading,Z=(0,v.isNil)(q)?(void 0===m?[]:m).includes(E):!I&&(null===(s=(0,o.zJ)({slug:t},null==U?void 0:U.pages))||void 0===s?void 0:s.progress_status)===d.oi.completed;return(0,S.jsx)(O(),{className:"w-full h-full neeto-ui-text-black hover:neeto-ui-bg-gray-100",href:{pathname:E,query:P},children:(0,S.jsx)("div",{className:"flex w-full px-8 py-4 space-x-5 border neeto-ui-border-gray-300 rounded-xl",children:(0,S.jsx)("div",{className:"flex flex-col items-start w-full text-base font-semibold md:items-center md:text-lg md:flex-row group gap-y-4",children:(0,S.jsxs)("div",{className:"flex items-start flex-grow w-full md:items-center gap-x-3 md:gap-x-6",children:[(0,S.jsx)(w.Z,{isCompleted:Z}),(0,S.jsxs)("div",{className:"flex min-w-9",children:[!j&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{children:c}),(0,S.jsx)("span",{children:"."})]}),(0,S.jsx)("span",{children:u})]}),(0,S.jsx)("div",{className:"items-center hidden md:flex min-w-[66px]",children:(0,S.jsx)(i.Vp,{label:null===d.sL||void 0===d.sL?void 0:d.sL[p],style:"lesson"===p?"primary":"info",type:"solid"})}),(0,S.jsx)("p",{className:"text-base m-0 font-medium break-words md:text-lg",children:(0,S.jsx)(k.D,{components:{p:"span"},children:a})}),(g||x)&&(0,S.jsx)(i.Vp,{className:"h-6 mr-15",label:N(g?"common.changed":"common.added"),size:"small",style:g?"success":"primary"})]})})})})};t(28174).get("neeto-course-site:TableOfContent:RemovedContentCallout");var _=function(e){var s=e.title,t=e.removedItems;return(0,S.jsx)(i.UW,{className:"my-5 w-1/2 p-0",style:"danger",children:(0,S.jsx)(i.UQ,{className:"w-full",style:"primary",children:(0,S.jsx)(i.Qd,{title:s,children:t.map(function(e){return(0,S.jsx)("ul",{children:(0,S.jsx)("li",{children:e})},e)})})})})};t(28174).get("neeto-course-site:TableOfContent:utils");var E=(0,o.uh)({page_type:"exercise"});function q(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function L(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?q(Object(t),!0).forEach(function(s){(0,r.Z)(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}t(28174).get("neeto-course-site:TableOfContent:ChapterContent");var U=function(e){var s=e.positionInCourse,t=e.fragments,r=e.slug,a=e.has_pages,c=e.courseSlug,l=e.savedCourseProgress,u=void 0===l?{}:l,d=e.chapterSequence,p=e.isShowExercises,m=e.removed_pages,g=e.isChapterTOC,x=e.guestUserCourseAuthToken,w=(0,n.useState)([]),y=w[0],C=w[1],N=(0,h.useRouter)(),O=N.query.prAppName,k=N.asPath.includes("/preview/"),T=N.query.previewToken,q=(0,f.Z)("common").t,U=(0,j.fL)({organizationId:(0,b.iG)(),courseSlug:c,chapterSlug:r,prAppName:O,previewMode:k,previewToken:T,guestUserCourseAuthToken:x},{enabled:a}),I=U.data,Z=(void 0===I?{}:I).pages,z=U.isLoading;return((0,n.useEffect)(function(){(0,v.isNil)(Z)||(p?C(Z):C(E(Z)))},[p,Z]),z)?(0,S.jsx)("div",{children:(0,S.jsx)(i.$j,{})}):(0,S.jsxs)(S.Fragment,{children:[t&&(0,S.jsx)("div",{className:"grid w-full grid-cols-1 gap-y-4",children:t.map(function(e,t){return(0,S.jsx)("div",{children:(0,S.jsx)(P,L({},L(L({},e),{},{chapterSequence:d,chapterSlug:r,courseSlug:c,fragmentIndex:t,savedCourseProgress:u})))},"".concat(s,"--").concat(t))})}),O&&(0,v.isNotNil)(m)&&(0,o.UE)(m)&&(0,S.jsx)(_,{removedItems:m,title:q("review.removed",{entity:"pages"})}),(0,S.jsx)("div",{className:"grid w-full grid-cols-1 gap-y-4",children:y.map(function(e,t){return(0,S.jsx)(A,L({},L(L({},e),{},{chapterSequence:d,chapterSlug:r,courseSlug:c,isChapterTOC:g,savedCourseProgress:u})),"".concat(s,"-").concat(t))})})]})},I=t(67951);t(28174).get("neeto-course-site:TableOfContent:ChapterTitleBlock");var Z=function(e){var s=e.isChapterTOC,t=e.chapterAttributes,r=e.prAppName,a=e.courseSlug,c=e.chapterIndex,u=e.savedCourseProgress,p=(0,n.useState)(!1),m=p[0],g=p[1],x=(0,f.Z)("common").t,j=(0,h.useRouter)(),y=j.asPath.includes("/preview/"),N=t.slug,P=t.title,A=t.is_updated,_=t.is_added,E=t.has_published_content_version,q=t.progress_status,L=(0,T.Vl)({organizationId:(0,b.iG)(),courseSlug:a,guestUserCourseAuthToken:j.query.guestUserCourseAuthToken},{select:function(e){var s;return(0,o.zP)({slug:N},null==e||null===(s=e.data)||void 0===s||null===(s=s.progress)||void 0===s?void 0:s.chapters)}}),U=L.data,Z=L.isLoading,z="".concat((0,C.Y)({previewMode:y,prAppName:r}),"/").concat(a,"/").concat(N),D=(0,b.wK)(j),F=(0,v.isNotNil)(P)?(0,o.lV)(P):null,R=c+1,M=u.completedLinks,V=void 0===M?[]:M,Q=(0,l.getCookie)(d.on);(0,n.useEffect)(function(){if((0,v.isNotNil)(U)){var e=U.pages.reduce(function(e,s){var t=s.progress_status,r=s.slug;return(0,v.isNil)(Q)&&t===d.oi.completed?e+1:V.includes("/".concat(a,"/").concat(N,"/").concat(r))?e+1:e},0),s=(0,v.isNil)(Q)?V.includes(z):q===d.oi.completed,t=E?s:e===U.pages.length;(0,v.isNotNil)(Q)&&(t=U.is_completed),g(t)}},[U,V]);var Y=(0,n.useState)(!1),G=Y[0],K=Y[1],B=function(){return(0,S.jsx)("div",{className:"flex flex-row items-center justify-between w-full space-x-5",children:!s&&(0,S.jsxs)("div",{className:"flex flex-row items-center gap-x-4",children:[(0,S.jsx)(w.Z,{isCompleted:m,isLoading:Z}),(0,S.jsxs)("div",{className:"flex flex-row items-center gap-x-2",onMouseEnter:function(){return K(!0)},onMouseLeave:function(){return K(!1)},children:[(0,S.jsxs)("div",{className:"flex items-baseline text-xl font-semibold leading-6 cursor-pointer gap-x-2 neeto-ui-text-black",children:[(0,S.jsxs)("span",{children:[R,"."]}),(0,S.jsx)("p",{className:"text-xl font-semibold leading-6 neeto-ui-text-black",children:(0,S.jsx)(k.D,{components:{p:"span"},children:P})})]}),!E&&G&&(0,S.jsx)(O(),{className:"items-baseline hidden text-xl font-semibold leading-8 cursor-pointer neeto-ui-text-black md:block",href:{pathname:z,query:D},id:F,scroll:!1,children:(0,S.jsx)(I.Z,{size:20})})]}),(A||_)&&(0,S.jsx)(i.Vp,{className:"h-6 m-1",label:A?x("common.changed"):x("common.added"),size:"small",style:A?"success":"primary"})]})})};return(0,S.jsx)(S.Fragment,{children:E?(0,S.jsx)(O(),{className:"w-full p-3 border neeto-ui-border-gray-300 rounded-xl hover:neeto-ui-bg-gray-100",href:{pathname:z,query:D},children:B()}):B()})};function z(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function D(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?z(Object(t),!0).forEach(function(s){(0,r.Z)(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}t(28174).get("neeto-course-site:TableOfContent:index");var F=function(e){var s=e.chapters,t=e.courseSlug,r=e.subdomain,j=e.setIsShowExercises,b=e.isShowExercises,w=e.hasExercise,y=e.shouldShowResetButton,C=e.removedChapters,N=e.isChapterTOC,O=void 0!==N&&N,k=e.guestUserCourseAuthToken,P=e.sectionChaptersRef,T=(0,n.useState)(!1),A=T[0],E=T[1],q=(0,f.Z)("common").t,L=(0,h.useRouter)(),I="dark"===(0,x.F)().theme,z=(0,p.U)({onSuccess:function(){(0,g.Uv)(r,D(D({},(0,g.Fc)(r)),{},{synced:!0}))}}).mutate,F=!(0,v.isEmpty)(s),R=L.query.prAppName,M=(0,n.useState)({}),V=M[0],Q=M[1],Y=function(){var e,s;return Q({completedLinks:null!==(e=(0,g.Ii)(r,t))&&void 0!==e?e:[],visitedLinks:null!==(s=(0,g.Hi)(r,t))&&void 0!==s?s:[]})};return((0,n.useEffect)(function(){setTimeout(function(){var e=window.location.hash;e.includes("#")&&(window.location.href=(0,u.sanitize)(e))},200)},[]),(0,n.useEffect)(function(){if(Y(),!(0,g.Fc)(r).synced){var e,s,t=(0,l.getCookie)(d.on),n=(0,g.Fc)(r);z({organizationId:r,progresses:{visited_links:null!==(e=n.visitedLinks)&&void 0!==e?e:{},completed_links:null!==(s=n.completedLinks)&&void 0!==s?s:{}},consumerAuthToken:t})}},[]),i.UQ)?(0,S.jsxs)("div",{className:"container neeto-ui-bg-white max-w-5xl px-4 mx-auto  md:px-8 py-5 md:py-12",ref:P,children:[F?(0,S.jsxs)("div",{className:"flex flex-row items-center justify-between w-full mb-8 gap-y-2 md:gap-x-4",children:[w&&(0,S.jsx)(i.rs,{checked:b,className:"min-w-fit",id:"show-exercises",label:q("course.showExercises"),name:"show exercises",onChange:function(e){j(e.target.checked),(0,m.p)("isShowExercises",e.target.checked)}}),(0,S.jsxs)("div",{className:"flex items-center justify-end w-full gap-x-0 md:gap-x-4",children:[y&&(0,S.jsx)(i.zx,{disabled:(0,v.isNotNil)(R),label:q("common.resetProgress"),style:"text",onClick:function(){return E(!0)}}),(0,S.jsx)(c.Z,{courseSlug:t,containerClasses:"",orgSubdomain:r})]})]}):(0,S.jsx)("h1",{className:"text-3xl mt-20 font-semibold leading-tight neeto-ui-text-gray-800",children:(0,S.jsx)("span",{children:q("common.comingSoon")})}),F&&(0,S.jsxs)(S.Fragment,{children:[R&&(0,v.isNotNil)(C)&&(0,o.UE)(C)&&(0,S.jsx)(_,{removedItems:C,title:q("review.removed",{entity:"chapters"})}),O?s.map(function(e,s){return(0,S.jsxs)("div",{children:[(0,S.jsx)(Z,{chapterAttributes:e,chapterIndex:s,courseSlug:t,isChapterTOC:O,prAppName:R,savedCourseProgress:V}),(0,S.jsx)(U,D(D({},D(D({},e),{},{courseSlug:t,guestUserCourseAuthToken:k,isChapterTOC:O,isShowExercises:b,savedCourseProgress:V})),{},{chapterSequence:s+1}),e.id)]},"".concat(e.id,"-").concat(s))}):(0,S.jsx)(S.Fragment,{children:s.map(function(e,s){return(0,S.jsx)(i.UQ,{className:"w-full",style:"primary",children:(0,S.jsx)(i.Qd,{className:"px-0 mb-4 border-b-0",iconProps:{color:I?"gray":"rgba(0,0,0,0.5)",size:24},title:(0,S.jsx)(Z,{chapterAttributes:e,chapterIndex:s,courseSlug:t,isChapterTOC:O,prAppName:R,savedCourseProgress:V}),children:(0,S.jsx)(U,D(D({},D(D({},e),{},{courseSlug:t,guestUserCourseAuthToken:k,isChapterTOC:O,isShowExercises:b,savedCourseProgress:V})),{},{chapterSequence:s+1}),e.id)})},e.id)})}),(0,S.jsx)(a.Z,{courseSlug:t,subdomain:r,updateStoredCourseProgress:Y,isOpen:A,setIsOpen:E})]})]}):null}}}]);